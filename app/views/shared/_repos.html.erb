<% lang_index = 0 %>
<div class="row-fluid">
  <ul class="nav nav-tabs nav-stacked span4" data-tabs="tabs" id="repo-tabs">
    <% repos.group_by(&:language).each do |lang, repos| %>
      <% unless lang == nil %>
        <li><a href="#<%= "#{lang.parameterize}#{lang.hash}" %>" data-toggle="tab" onclick="filter('#<%= "#{lang.parameterize}#{lang.hash}" %>')"><%= lang %></a></li>
      <% end -%>
    <% end -%>
  </ul>

  <div id="tab-repo" class="tab-content span8">
    <div class="input-append">
      <input id="input-repo"  class="span12" id="appendedInputButton" type="text">
      <button id="search-repo" class="btn" type="button">Go!</button>
    </div>
    <% repos.group_by(&:language).each do |lang, repos| %>
      <% unless lang == nil %>
        <div class="tab-pane<%= " active" if lang_index == 0 %>" id="<%= "#{lang.parameterize}#{lang.hash}" %>">
          <ul id="repos-list" class="unstyled repos-list">
            <%= render partial: 'repos/repo', collection: repos %>
          </ul>
        </div>
        <% lang_index = lang_index + 1 %>
      <% end -%>
    <% end -%>
  </div>
</div>

<%= link_to "Submit a Repo", new_repo_path, class: 'btn btn-success' %>